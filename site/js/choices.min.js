!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Choices=t():e.Choices=t()}(this,function(){return s={},i.m=n=[function(e,t,i){e.exports=i(1)},function(e,t,i){"use strict";var n=function(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),e};function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=c(i(2)),r=c(i(3)),a=c(i(4)),h=i(31),f=i(32);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function m(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}i(33);n(l,[{key:"init",value:function(){var e;!0!==this.initialised&&(e=this.config.callbackOnInit,this.initialised=!0,this._createTemplates(),this._createInput(),this.store.subscribe(this.render),this.render(),this._addEventListeners(),e&&(0,f.isType)("Function",e)&&e.call(this))}},{key:"destroy",value:function(){var e;!1!==this.initialised&&(this._removeEventListeners(),this.passedElement.classList.remove(this.config.classNames.input,this.config.classNames.hiddenState),this.passedElement.removeAttribute("tabindex"),e=this.passedElement.getAttribute("data-choice-orig-style"),Boolean(e)?(this.passedElement.removeAttribute("data-choice-orig-style"),this.passedElement.setAttribute("style",e)):this.passedElement.removeAttribute("style"),this.passedElement.removeAttribute("aria-hidden"),this.passedElement.removeAttribute("data-choice"),this.passedElement.value=this.passedElement.value,this.containerOuter.parentNode.insertBefore(this.passedElement,this.containerOuter),this.containerOuter.parentNode.removeChild(this.containerOuter),this.clearStore(),this.config.templates=null,this.initialised=!1)}},{key:"renderGroups",value:function(e,n,t){var s=this,o=t||document.createDocumentFragment(),t=this.config.sortFilter;return this.config.shouldSort&&e.sort(t),e.forEach(function(t){var e,i=n.filter(function(e){return s.isSelectOneElement?e.groupId===t.id:e.groupId===t.id&&!e.selected});1<=i.length&&(e=s._getTemplate("choiceGroup",t),o.appendChild(e),s.renderChoices(i,o,!0))}),o}},{key:"renderChoices",value:function(e,t){var i=this,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],s=t||document.createDocumentFragment(),o=this.config,r=o.renderSelectedChoices,a=o.searchResultLimit,c=o.renderChoiceLimit,l=this.isSearching?f.sortByScore:this.config.sortFilter,t=e,o=(t="auto"===r&&!this.isSelectOneElement?e.filter(function(e){return!e.selected}):t).reduce(function(e,t){return(t.placeholder?e.placeholderChoices:e.normalChoices).push(t),e},{placeholderChoices:[],normalChoices:[]}),e=o.placeholderChoices,o=o.normalChoices;(this.config.shouldSort||this.isSearching)&&o.sort(l);var h=t.length,u=[].concat(m(e),m(o));this.isSearching?h=a:0<c&&!n&&(h=c);for(var d,p=0;p<h;p++)u[p]&&(d=u[p],"auto"===r&&!i.isSelectOneElement&&d.selected||(d=i._getTemplate("choice",d),s.appendChild(d)));return s}},{key:"renderItems",value:function(e){var t,i,n=this,s=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:null)||document.createDocumentFragment();return this.config.shouldSortItems&&!this.isSelectOneElement&&e.sort(this.config.sortFilter),this.isTextElement?(t=this.store.getItemsReducedToValues(e).join(this.config.delimiter),this.passedElement.setAttribute("value",t),this.passedElement.value=t):(i=document.createDocumentFragment(),e.forEach(function(e){e=n._getTemplate("option",e);i.appendChild(e)}),this.passedElement.innerHTML="",this.passedElement.appendChild(i)),e.forEach(function(e){e=n._getTemplate("item",e);s.appendChild(e)}),s}},{key:"render",value:function(){var e,t,i,n;this.store.isLoading()||(this.currentState=this.store.getState(),this.currentState!==this.prevState&&(this.currentState.choices===this.prevState.choices&&this.currentState.groups===this.prevState.groups&&this.currentState.items===this.prevState.items||this.isSelectElement&&(e=this.store.getGroupsFilteredByActive(),i=this.store.getChoicesFilteredByActive(),t=document.createDocumentFragment(),this.choiceList.innerHTML="",this.config.resetScrollPosition&&(this.choiceList.scrollTop=0),1<=e.length&&!0!==this.isSearching?t=this.renderGroups(e,i,t):1<=i.length&&(t=this.renderChoices(i,t)),i=this.store.getItemsFilteredByActive(),i=this._canAddItem(i,this.input.value),t.childNodes&&0<t.childNodes.length?i.response?(this.choiceList.appendChild(t),this._highlightChoice()):this.choiceList.appendChild(this._getTemplate("notice",i.notice)):(i=n=void 0,n=this.isSearching?(i=(0,f.isType)("Function",this.config.noResultsText)?this.config.noResultsText():this.config.noResultsText,this._getTemplate("notice",i,"no-results")):(i=(0,f.isType)("Function",this.config.noChoicesText)?this.config.noChoicesText():this.config.noChoicesText,this._getTemplate("notice",i,"no-choices")),this.choiceList.appendChild(n))),this.currentState.items!==this.prevState.items&&(n=this.store.getItemsFilteredByActive(),this.itemList.innerHTML="",n&&n&&((n=this.renderItems(n)).childNodes&&this.itemList.appendChild(n))),this.prevState=this.currentState))}},{key:"highlightItem",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(!e)return this;var i=e.id,n=e.groupId,n=0<=n?this.store.getGroupById(n):null;return this.store.dispatch((0,h.highlightItem)(i,!0)),t&&(n&&n.value?(0,f.triggerEvent)(this.passedElement,"highlightItem",{id:i,value:e.value,label:e.label,groupValue:n.value}):(0,f.triggerEvent)(this.passedElement,"highlightItem",{id:i,value:e.value,label:e.label})),this}},{key:"unhighlightItem",value:function(e){if(!e)return this;var t=e.id,i=e.groupId,i=0<=i?this.store.getGroupById(i):null;return this.store.dispatch((0,h.highlightItem)(t,!1)),i&&i.value?(0,f.triggerEvent)(this.passedElement,"unhighlightItem",{id:t,value:e.value,label:e.label,groupValue:i.value}):(0,f.triggerEvent)(this.passedElement,"unhighlightItem",{id:t,value:e.value,label:e.label}),this}},{key:"highlightAll",value:function(){var t=this;return this.store.getItems().forEach(function(e){t.highlightItem(e)}),this}},{key:"unhighlightAll",value:function(){var t=this;return this.store.getItems().forEach(function(e){t.unhighlightItem(e)}),this}},{key:"removeItemsByValue",value:function(t){var i=this;return t&&(0,f.isType)("String",t)&&this.store.getItemsFilteredByActive().forEach(function(e){e.value===t&&i._removeItem(e)}),this}},{key:"removeActiveItems",value:function(t){var i=this;return this.store.getItemsFilteredByActive().forEach(function(e){e.active&&t!==e.id&&i._removeItem(e)}),this}},{key:"removeHighlightedItems",value:function(){var t=this,i=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this.store.getItemsFilteredByActive().forEach(function(e){e.highlighted&&e.active&&(t._removeItem(e),i&&t._triggerChange(e.value))}),this}},{key:"showDropdown",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=document.body,i=document.documentElement,n=Math.max(t.scrollHeight,t.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight);this.containerOuter.classList.add(this.config.classNames.openState),this.containerOuter.setAttribute("aria-expanded","true"),this.dropdown.classList.add(this.config.classNames.activeState),this.dropdown.setAttribute("aria-expanded","true");t=this.dropdown.getBoundingClientRect(),i=Math.ceil(t.top+window.scrollY+this.dropdown.offsetHeight),t=!1;return"auto"===this.config.position?t=n<=i:"top"===this.config.position&&(t=!0),t&&this.containerOuter.classList.add(this.config.classNames.flippedState),e&&this.canSearch&&document.activeElement!==this.input&&this.input.focus(),(0,f.triggerEvent)(this.passedElement,"showDropdown",{}),this}},{key:"hideDropdown",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.containerOuter.classList.contains(this.config.classNames.flippedState);return this.containerOuter.classList.remove(this.config.classNames.openState),this.containerOuter.setAttribute("aria-expanded","false"),this.dropdown.classList.remove(this.config.classNames.activeState),this.dropdown.setAttribute("aria-expanded","false"),t&&this.containerOuter.classList.remove(this.config.classNames.flippedState),e&&this.canSearch&&document.activeElement===this.input&&this.input.blur(),(0,f.triggerEvent)(this.passedElement,"hideDropdown",{}),this}},{key:"toggleDropdown",value:function(){return this.dropdown.classList.contains(this.config.classNames.activeState)?this.hideDropdown():this.showDropdown(!0),this}},{key:"getValue",value:function(){var t=this,i=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=this.store.getItemsFilteredByActive(),n=[];return e.forEach(function(e){(t.isTextElement||e.active)&&n.push(i?e.value:e)}),this.isSelectOneElement?n[0]:n}},{key:"setValue",value:function(e){var t,i=this;return!0===this.initialised&&(e=[].concat(m(e)),t=function(e){var t=(0,f.getType)(e);"Object"===t?e.value&&(i.isTextElement?i._addItem(e.value,e.label,e.id,void 0,e.customProperties,e.placeholder):i._addChoice(e.value,e.label,!0,!1,-1,e.customProperties,e.placeholder)):"String"===t&&(i.isTextElement?i._addItem(e):i._addChoice(e,e,!0,!1,-1,null))},1<e.length?e.forEach(function(e){t(e)}):t(e[0])),this}},{key:"setValueByChoice",value:function(e){var i,n=this;return this.isTextElement||(i=this.store.getChoices(),((0,f.isType)("Array",e)?e:[e]).forEach(function(t){var e=i.find(function(e){return n.config.itemComparer(e.value,t)});e?e.selected?n.config.silent||console.warn("Attempting to select choice already selected"):n._addItem(e.value,e.label,e.id,e.groupId,e.customProperties,e.placeholder,e.keyCode):n.config.silent||console.warn("Attempting to select choice that does not exist")})),this}},{key:"setChoices",value:function(e,t,i){var n=this,s=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(!0===this.initialised&&this.isSelectElement){if(!(0,f.isType)("Array",e)||!t)return this;s&&this._clearChoices(),this._setLoading(!0),e&&e.length&&(this.containerOuter.classList.remove(this.config.classNames.loadingState),e.forEach(function(e){e.choices?n._addGroup(e,e.id||null,t,i):n._addChoice(e[t],e[i],e.selected,e.disabled,void 0,e.customProperties,e.placeholder)})),this._setLoading(!1)}return this}},{key:"clearStore",value:function(){return this.store.dispatch((0,h.clearAll)()),this}},{key:"clearInput",value:function(){return this.input.value&&(this.input.value=""),this.isSelectOneElement||this._setInputWidth(),!this.isTextElement&&this.config.searchEnabled&&(this.isSearching=!1,this.store.dispatch((0,h.activateChoices)(!0))),this}},{key:"enable",value:function(){return this.initialised&&(this.passedElement.disabled=!1,this.containerOuter.classList.contains(this.config.classNames.disabledState)&&(this._addEventListeners(),this.passedElement.removeAttribute("disabled"),this.input.removeAttribute("disabled"),this.containerOuter.classList.remove(this.config.classNames.disabledState),this.containerOuter.removeAttribute("aria-disabled"),this.isSelectOneElement&&this.containerOuter.setAttribute("tabindex","0"))),this}},{key:"disable",value:function(){return this.initialised&&(this.passedElement.disabled=!0,this.containerOuter.classList.contains(this.config.classNames.disabledState)||(this._removeEventListeners(),this.passedElement.setAttribute("disabled",""),this.input.setAttribute("disabled",""),this.containerOuter.classList.add(this.config.classNames.disabledState),this.containerOuter.setAttribute("aria-disabled","true"),this.isSelectOneElement&&this.containerOuter.setAttribute("tabindex","-1"))),this}},{key:"ajax",value:function(e){var t=this;return!0===this.initialised&&this.isSelectElement&&(requestAnimationFrame(function(){t._handleLoadingState(!0)}),e(this._ajaxCallback())),this}},{key:"_triggerChange",value:function(e){e&&(0,f.triggerEvent)(this.passedElement,"change",{value:e})}},{key:"_handleButtonAction",value:function(e,t){var i;e&&t&&this.config.removeItems&&this.config.removeItemButton&&(i=t.parentNode.getAttribute("data-id"),e=e.find(function(e){return e.id===parseInt(i,10)}),this._removeItem(e),this._triggerChange(e.value),this.isSelectOneElement&&this._selectPlaceholderChoice())}},{key:"_selectPlaceholderChoice",value:function(){var e=this.store.getPlaceholderChoice();e&&(this._addItem(e.value,e.label,e.id,e.groupId,null,e.placeholder),this._triggerChange(e.value))}},{key:"_handleItemAction",value:function(e,t){var i,n=this,s=2<arguments.length&&void 0!==arguments[2]&&arguments[2];e&&t&&this.config.removeItems&&!this.isSelectOneElement&&(i=t.getAttribute("data-id"),e.forEach(function(e){e.id!==parseInt(i,10)||e.highlighted?s||e.highlighted&&n.unhighlightItem(e):n.highlightItem(e)}),document.activeElement!==this.input&&this.input.focus())}},{key:"_handleChoiceAction",value:function(e,t){var i,n;e&&t&&(n=t.getAttribute("data-id"),i=this.store.getChoiceById(n),t=e[0]&&e[0].keyCode?e[0].keyCode:null,n=this.dropdown.classList.contains(this.config.classNames.activeState),i.keyCode=t,(0,f.triggerEvent)(this.passedElement,"choice",{choice:i}),!i||i.selected||i.disabled||this._canAddItem(e,i.value).response&&(this._addItem(i.value,i.label,i.id,i.groupId,i.customProperties,i.placeholder,i.keyCode),this._triggerChange(i.value)),this.clearInput(),n&&this.isSelectOneElement&&(this.hideDropdown(),this.containerOuter.focus()))}},{key:"_handleBackspace",value:function(e){var t;this.config.removeItems&&e&&(t=e[e.length-1],e=e.some(function(e){return e.highlighted}),this.config.editItems&&!e&&t?(this.input.value=t.value,this._setInputWidth(),this._removeItem(t),this._triggerChange(t.value)):(e||this.highlightItem(t,!1),this.removeHighlightedItems(!0)))}},{key:"_canAddItem",value:function(e,t){var i=!0,n=(0,f.isType)("Function",this.config.addItemText)?this.config.addItemText(t):this.config.addItemText;return(this.isSelectMultipleElement||this.isTextElement)&&0<this.config.maxItemCount&&this.config.maxItemCount<=e.length&&(n=(i=!1,f.isType)("Function",this.config.maxItemText)?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),this.isTextElement&&this.config.addItems&&i&&this.config.regexFilter&&(i=this._regexFilter(t)),!e.some(function(e){return(0,f.isType)("String",t)?e.value===t.trim():e.value===t})||this.config.duplicateItems||this.isSelectOneElement||!i||(n=(i=!1,f.isType)("Function",this.config.uniqueItemText)?this.config.uniqueItemText(t):this.config.uniqueItemText),{response:i,notice:n}}},{key:"_handleLoadingState",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=this.itemList.querySelector("."+this.config.classNames.placeholder);e?(this.containerOuter.classList.add(this.config.classNames.loadingState),this.containerOuter.setAttribute("aria-busy","true"),this.isSelectOneElement?t?t.innerHTML=this.config.loadingText:(t=this._getTemplate("placeholder",this.config.loadingText),this.itemList.appendChild(t)):this.input.placeholder=this.config.loadingText):(this.containerOuter.classList.remove(this.config.classNames.loadingState),this.isSelectOneElement?t.innerHTML=this.placeholder||"":this.input.placeholder=this.placeholder||"")}},{key:"_ajaxCallback",value:function(){var s=this;return function(e,i,n){e&&i&&((e=(0,f.isType)("Object",e)?[e]:e)&&(0,f.isType)("Array",e)&&e.length?(s._handleLoadingState(!1),s._setLoading(!0),e.forEach(function(e){var t;e.choices?(t=e.id||null,s._addGroup(e,t,i,n)):s._addChoice(e[i],e[n],e.selected,e.disabled,void 0,e.customProperties,e.placeholder)}),s._setLoading(!1),s.isSelectOneElement&&s._selectPlaceholderChoice()):s._handleLoadingState(!1),s.containerOuter.removeAttribute("aria-busy"))}}},{key:"_searchChoices",value:function(e){var t=(0,f.isType)("String",e)?e.trim():e,i=(0,f.isType)("String",this.currentValue)?this.currentValue.trim():this.currentValue;if(1<=t.length&&t!==i+" "){var n=this.store.getSearchableChoices(),e=t,i=(0,f.isType)("Array",this.config.searchFields)?this.config.searchFields:[this.config.searchFields],i=Object.assign(this.config.fuseOptions,{keys:i}),e=new o.default(n,i).search(e);return this.currentValue=t,this.highlightPosition=0,this.isSearching=!0,this.store.dispatch((0,h.filterChoices)(e)),e.length}return 0}},{key:"_handleSearch",value:function(e){var t,i;e&&(t=this.store.getChoices().some(function(e){return!e.active}),this.input===document.activeElement&&(e&&e.length>=this.config.searchFloor?(i=0,this.config.searchChoices&&(i=this._searchChoices(e)),(0,f.triggerEvent)(this.passedElement,"search",{value:e,resultCount:i})):t&&(this.isSearching=!1,this.store.dispatch((0,h.activateChoices)(!0)))))}},{key:"_addEventListeners",value:function(){document.addEventListener("keyup",this._onKeyUp),document.addEventListener("keydown",this._onKeyDown),document.addEventListener("click",this._onClick),document.addEventListener("touchmove",this._onTouchMove),document.addEventListener("touchend",this._onTouchEnd),document.addEventListener("mousedown",this._onMouseDown),document.addEventListener("mouseover",this._onMouseOver),this.isSelectOneElement&&(this.containerOuter.addEventListener("focus",this._onFocus),this.containerOuter.addEventListener("blur",this._onBlur)),this.input.addEventListener("input",this._onInput),this.input.addEventListener("paste",this._onPaste),this.input.addEventListener("focus",this._onFocus),this.input.addEventListener("blur",this._onBlur)}},{key:"_removeEventListeners",value:function(){document.removeEventListener("keyup",this._onKeyUp),document.removeEventListener("keydown",this._onKeyDown),document.removeEventListener("click",this._onClick),document.removeEventListener("touchmove",this._onTouchMove),document.removeEventListener("touchend",this._onTouchEnd),document.removeEventListener("mousedown",this._onMouseDown),document.removeEventListener("mouseover",this._onMouseOver),this.isSelectOneElement&&(this.containerOuter.removeEventListener("focus",this._onFocus),this.containerOuter.removeEventListener("blur",this._onBlur)),this.input.removeEventListener("input",this._onInput),this.input.removeEventListener("paste",this._onPaste),this.input.removeEventListener("focus",this._onFocus),this.input.removeEventListener("blur",this._onBlur)}},{key:"_setInputWidth",value:function(){(!this.placeholder||this.input.value&&this.input.value.length>=this.placeholder.length/1.25)&&(this.input.style.width=(0,f.getWidthOfInput)(this.input))}},{key:"_onKeyDown",value:function(n){var t,i,e,s,o,r,a,c,l,h=this;n.target!==this.input&&!this.containerOuter.contains(n.target)||(t=n.target,i=this.store.getItemsFilteredByActive(),e=this.input===document.activeElement,s=this.dropdown.classList.contains(this.config.classNames.activeState),o=this.itemList&&this.itemList.children,r=String.fromCharCode(n.keyCode),a=n.ctrlKey||n.metaKey,this.isTextElement||!/[a-zA-Z0-9-_ ]/.test(r)||s||this.showDropdown(!0),this.canSearch=this.config.searchEnabled,c=function(){var e,t,i;(s||h.isSelectOneElement)&&(s||h.showDropdown(!0),h.canSearch=!1,e=40===n.keyCode||34===n.keyCode?1:-1,i=void 0,(i=n.metaKey||34===n.keyCode||33===n.keyCode?0<e?Array.from(h.dropdown.querySelectorAll("[data-choice-selectable]")).pop():h.dropdown.querySelector("[data-choice-selectable]"):(t=h.dropdown.querySelector("."+h.config.classNames.highlightedState))?(0,f.getAdjacentEl)(t,"[data-choice-selectable]",e):h.dropdown.querySelector("[data-choice-selectable]"))&&((0,f.isScrolledIntoView)(i,h.choiceList,e)||h._scrollToChoice(i,e),h._highlightChoice(i)),n.preventDefault())},l=function(){!e||n.target.value||h.isSelectOneElement||(h._handleBackspace(i),n.preventDefault())},u(r={},65,function(){a&&o&&(h.canSearch=!1,h.config.removeItems&&!h.input.value&&h.input===document.activeElement&&h.highlightAll())}),u(r,13,function(){var e;h.isTextElement&&t.value&&(e=h.input.value,h._canAddItem(i,e).response&&(s&&h.hideDropdown(),h._addItem(e),h._triggerChange(e),h.clearInput())),t.hasAttribute("data-button")&&(h._handleButtonAction(i,t),n.preventDefault()),s?(n.preventDefault(),(e=h.dropdown.querySelector("."+h.config.classNames.highlightedState))&&(i[0]&&(i[0].keyCode=13),h._handleChoiceAction(i,e))):h.isSelectOneElement&&(s||(h.showDropdown(!0),n.preventDefault()))}),u(r,27,function(){s&&(h.toggleDropdown(),h.containerOuter.focus())}),u(r,38,c),u(r,33,c),u(r,40,c),u(r,34,c),u(r,8,l),u(r,46,l),r[n.keyCode]&&r[n.keyCode]())}},{key:"_onKeyUp",value:function(e){var t,i,n;e.target===this.input&&(n=this.input.value,i=this.store.getItemsFilteredByActive(),t=this._canAddItem(i,n),this.isTextElement?(i=this.dropdown.classList.contains(this.config.classNames.activeState),n?(t.notice&&(n=this._getTemplate("notice",t.notice),this.dropdown.innerHTML=n.outerHTML),!0===t.response?i||this.showDropdown():!t.notice&&i&&this.hideDropdown()):i&&this.hideDropdown()):46!==e.keyCode&&8!==e.keyCode||e.target.value?this.canSearch&&t.response&&this._handleSearch(this.input.value):!this.isTextElement&&this.isSearching&&(this.isSearching=!1,this.store.dispatch((0,h.activateChoices)(!0))),this.canSearch=this.config.searchEnabled)}},{key:"_onInput",value:function(){this.isSelectOneElement||this._setInputWidth()}},{key:"_onTouchMove",value:function(){!0===this.wasTap&&(this.wasTap=!1)}},{key:"_onTouchEnd",value:function(e){var t=e.target||e.touches[0].target,i=this.dropdown.classList.contains(this.config.classNames.activeState);!0===this.wasTap&&this.containerOuter.contains(t)&&(t!==this.containerOuter&&t!==this.containerInner||this.isSelectOneElement||(this.isTextElement?document.activeElement!==this.input&&this.input.focus():i||this.showDropdown(!0)),e.stopPropagation()),this.wasTap=!0}},{key:"_onMouseDown",value:function(e){var t,i,n,s=e.target;s===this.choiceList&&this.isIe11&&(this.isScrollingOnIe=!0),this.containerOuter.contains(s)&&s!==this.input&&(t=void 0,i=this.store.getItemsFilteredByActive(),n=e.shiftKey,(t=(0,f.findAncestorByAttrName)(s,"data-button"))?this._handleButtonAction(i,t):(t=(0,f.findAncestorByAttrName)(s,"data-item"))?this._handleItemAction(i,t,n):(t=(0,f.findAncestorByAttrName)(s,"data-choice"))&&this._handleChoiceAction(i,t),e.preventDefault())}},{key:"_onClick",value:function(e){var t=e.target,i=this.dropdown.classList.contains(this.config.classNames.activeState),e=this.store.getItemsFilteredByActive();this.containerOuter.contains(t)?(t.hasAttribute("data-button")&&this._handleButtonAction(e,t),i?this.isSelectOneElement&&t!==this.input&&!this.dropdown.contains(t)&&this.hideDropdown(!0):this.isTextElement?document.activeElement!==this.input&&this.input.focus():this.canSearch?this.showDropdown(!0):(this.showDropdown(),this.containerOuter.focus())):(e.some(function(e){return e.highlighted})&&this.unhighlightAll(),this.containerOuter.classList.remove(this.config.classNames.focusState),i&&this.hideDropdown())}},{key:"_onMouseOver",value:function(e){(e.target===this.dropdown||this.dropdown.contains(e.target))&&e.target.hasAttribute("data-choice")&&this._highlightChoice(e.target)}},{key:"_onPaste",value:function(e){e.target!==this.input||this.config.paste||e.preventDefault()}},{key:"_onFocus",value:function(e){var t,i=this,n=e.target;this.containerOuter.contains(n)&&(t=this.dropdown.classList.contains(this.config.classNames.activeState),{text:function(){n===i.input&&i.containerOuter.classList.add(i.config.classNames.focusState)},"select-one":function(){i.containerOuter.classList.add(i.config.classNames.focusState),n===i.input&&(t||i.showDropdown())},"select-multiple":function(){n===i.input&&(i.containerOuter.classList.add(i.config.classNames.focusState),t||i.showDropdown(!0))}}[this.passedElement.type]())}},{key:"_onBlur",value:function(e){var t,i,n=this,s=e.target;this.containerOuter.contains(s)&&!this.isScrollingOnIe?(e=this.store.getItemsFilteredByActive(),t=this.dropdown.classList.contains(this.config.classNames.activeState),i=e.some(function(e){return e.highlighted}),{text:function(){s===n.input&&(n.containerOuter.classList.remove(n.config.classNames.focusState),i&&n.unhighlightAll(),t&&n.hideDropdown())},"select-one":function(){n.containerOuter.classList.remove(n.config.classNames.focusState),s===n.containerOuter&&t&&!n.canSearch&&n.hideDropdown(),s===n.input&&t&&n.hideDropdown()},"select-multiple":function(){s===n.input&&(n.containerOuter.classList.remove(n.config.classNames.focusState),t&&n.hideDropdown(),i&&n.unhighlightAll())}}[this.passedElement.type]()):(this.isScrollingOnIe=!1,this.input.focus())}},{key:"_regexFilter",value:function(e){if(!e)return!1;var t=this.config.regexFilter;return new RegExp(t.source,"i").test(e)}},{key:"_scrollToChoice",value:function(e,s){var t,i,o,n,r=this;e&&(i=this.choiceList.offsetHeight,t=e.offsetHeight,t=e.offsetTop+t,i=this.choiceList.scrollTop+i,o=0<s?this.choiceList.scrollTop+t-i:e.offsetTop,n=function t(){var e=r.choiceList.scrollTop,i=!1,n=void 0;0<s?(r.choiceList.scrollTop=e+(1<(n=(o-e)/4)?n:1),e<o&&(i=!0)):(r.choiceList.scrollTop=e-(1<(n=(e-o)/4)?n:1),o<e&&(i=!0)),i&&requestAnimationFrame(function(e){t()})},requestAnimationFrame(function(e){n()}))}},{key:"_highlightChoice",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,i=Array.from(this.dropdown.querySelectorAll("[data-choice-selectable]")),e=e;i&&i.length&&(Array.from(this.dropdown.querySelectorAll("."+this.config.classNames.highlightedState)).forEach(function(e){e.classList.remove(t.config.classNames.highlightedState),e.setAttribute("aria-selected","false")}),e?this.highlightPosition=i.indexOf(e):e=(e=i.length>this.highlightPosition?i[this.highlightPosition]:i[i.length-1])||i[0],e.classList.add(this.config.classNames.highlightedState),e.setAttribute("aria-selected","true"),this.containerOuter.setAttribute("aria-activedescendant",e.id))}},{key:"_addItem",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:-1,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null,o=5<arguments.length&&void 0!==arguments[5]&&arguments[5],r=6<arguments.length&&void 0!==arguments[6]?arguments[6]:null,a=(0,f.isType)("String",e)?e.trim():e,c=r,e=this.store.getItems(),r=t||a,t=parseInt(i,10)||-1,i=0<=n?this.store.getGroupById(n):null,e=e?e.length+1:1;return this.config.prependValue&&(a=this.config.prependValue+a.toString()),this.config.appendValue&&(a+=this.config.appendValue.toString()),this.store.dispatch((0,h.addItem)(a,r,e,t,n,s,o,c)),this.isSelectOneElement&&this.removeActiveItems(e),i&&i.value?(0,f.triggerEvent)(this.passedElement,"addItem",{id:e,value:a,label:r,groupValue:i.value,keyCode:c}):(0,f.triggerEvent)(this.passedElement,"addItem",{id:e,value:a,label:r,keyCode:c}),this}},{key:"_removeItem",value:function(e){if(!e||!(0,f.isType)("Object",e))return this;var t=e.id,i=e.value,n=e.label,s=e.choiceId,e=e.groupId,e=0<=e?this.store.getGroupById(e):null;return this.store.dispatch((0,h.removeItem)(t,s)),e&&e.value?(0,f.triggerEvent)(this.passedElement,"removeItem",{id:t,value:i,label:n,groupValue:e.value}):(0,f.triggerEvent)(this.passedElement,"removeItem",{id:t,value:i,label:n}),this}},{key:"_addChoice",value:function(e){var t,i,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,s=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=3<arguments.length&&void 0!==arguments[3]&&arguments[3],r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:-1,a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null,c=6<arguments.length&&void 0!==arguments[6]&&arguments[6],l=7<arguments.length&&void 0!==arguments[7]?arguments[7]:null;null!=e&&(t=(i=this.store.getChoices())?i.length+1:1,i=this.baseId+"-"+this.idNames.itemChoice+"-"+t,this.store.dispatch((0,h.addChoice)(e,n=n||e,t,r,o,i,a,c,l)),s&&this._addItem(e,n,t,void 0,a,c,l))}},{key:"_clearChoices",value:function(){this.store.dispatch((0,h.clearChoices)())}},{key:"_addGroup",value:function(e,t){var i=this,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"value",s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"label",o=(0,f.isType)("Object",e)?e.choices:Array.from(e.getElementsByTagName("OPTION")),r=t||Math.floor((new Date).valueOf()*Math.random()),t=e.disabled||!1;o?(this.store.dispatch((0,h.addGroup)(e.label,r,!0,t)),o.forEach(function(e){var t=e.disabled||e.parentNode&&e.parentNode.disabled;i._addChoice(e[n],(0,f.isType)("Object",e)?e[s]:e.innerHTML,e.selected,t,r,e.customProperties,e.placeholder)})):this.store.dispatch((0,h.addGroup)(e.label,e.id,!1,e.disabled))}},{key:"_getTemplate",value:function(e){if(!e)return null;for(var t=this.config.templates,i=arguments.length,n=Array(1<i?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];return t[e].apply(t,n)}},{key:"_createTemplates",value:function(){var n=this,s=this.config.classNames,e={containerOuter:function(e){return(0,f.strToEl)('\n          <div\n            class="'+s.containerOuter+'"\n            '+(n.isSelectElement?n.config.searchEnabled?'role="combobox" aria-autocomplete="list"':'role="listbox"':"")+'\n            data-type="'+n.passedElement.type+'"\n            '+(n.isSelectOneElement?'tabindex="0"':"")+'\n            aria-haspopup="true"\n            aria-expanded="false"\n            dir="'+e+'"\n            >\n          </div>\n        ')},containerInner:function(){return(0,f.strToEl)('\n          <div class="'+s.containerInner+'"></div>\n        ')},itemList:function(){var e=(0,r.default)(s.list,(u(e={},s.listSingle,n.isSelectOneElement),u(e,s.listItems,!n.isSelectOneElement),e));return(0,f.strToEl)('\n          <div class="'+e+'"></div>\n        ')},placeholder:function(e){return(0,f.strToEl)('\n          <div class="'+s.placeholder+'">\n            '+e+"\n          </div>\n        ")},item:function(e){var t=(0,r.default)(s.item,(u(i={},s.highlightedState,e.highlighted),u(i,s.itemSelectable,!e.highlighted),u(i,s.placeholder,e.placeholder),i));if(n.config.removeItemButton){var i,t=(0,r.default)(s.item,(u(i={},s.highlightedState,e.highlighted),u(i,s.itemSelectable,!e.disabled),u(i,s.placeholder,e.placeholder),i));return(0,f.strToEl)('\n            <div\n              class="'+t+'"\n              data-item\n              data-id="'+e.id+'"\n              data-value="'+e.value+'"\n              data-deletable\n              '+(e.active?'aria-selected="true"':"")+"\n              "+(e.disabled?'aria-disabled="true"':"")+"\n              >\n              "+e.label+'\x3c!--\n           --\x3e<button\n                type="button"\n                class="'+s.button+'"\n                data-button\n                aria-label="Remove item: \''+e.value+"'\"\n                >\n                Remove item\n              </button>\n            </div>\n          ")}return(0,f.strToEl)('\n          <div\n            class="'+t+'"\n            data-item\n            data-id="'+e.id+'"\n            data-value="'+e.value+'"\n            '+(e.active?'aria-selected="true"':"")+"\n            "+(e.disabled?'aria-disabled="true"':"")+"\n            >\n            "+e.label+"\n          </div>\n        ")},choiceList:function(){return(0,f.strToEl)('\n          <div\n            class="'+s.list+'"\n            dir="ltr"\n            role="listbox"\n            '+(n.isSelectOneElement?"":'aria-multiselectable="true"')+"\n            >\n          </div>\n        ")},choiceGroup:function(e){var t=(0,r.default)(s.group,u({},s.itemDisabled,e.disabled));return(0,f.strToEl)('\n          <div\n            class="'+t+'"\n            data-group\n            data-id="'+e.id+'"\n            data-value="'+e.value+'"\n            role="group"\n            '+(e.disabled?'aria-disabled="true"':"")+'\n            >\n            <div class="'+s.groupHeading+'">'+e.value+"</div>\n          </div>\n        ")},choice:function(e){var t=(0,r.default)(s.item,s.itemChoice,(u(t={},s.itemDisabled,e.disabled),u(t,s.itemSelectable,!e.disabled),u(t,s.placeholder,e.placeholder),t));return(0,f.strToEl)('\n          <div\n            class="'+t+'"\n            data-select-text="'+n.config.itemSelectText+'"\n            data-choice\n            data-id="'+e.id+'"\n            data-value="'+e.value+'"\n            '+(e.disabled?'data-choice-disabled aria-disabled="true"':"data-choice-selectable")+'\n            id="'+e.elementId+'"\n            '+(0<e.groupId?'role="treeitem"':'role="option"')+"\n            >\n            "+e.label+"\n          </div>\n        ")},input:function(){var e=(0,r.default)(s.input,s.inputCloned);return(0,f.strToEl)('\n          <input\n            type="text"\n            class="'+e+'"\n            autocomplete="off"\n            autocapitalize="off"\n            spellcheck="false"\n            role="textbox"\n            aria-autocomplete="list"\n            >\n        ')},dropdown:function(){var e=(0,r.default)(s.list,s.listDropdown);return(0,f.strToEl)('\n          <div\n            class="'+e+'"\n            aria-expanded="false"\n            >\n          </div>\n        ')},notice:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=(0,r.default)(s.item,s.itemChoice,(u(i={},s.noResults,"no-results"===t),u(i,s.noChoices,"no-choices"===t),i));return(0,f.strToEl)('\n          <div class="'+i+'">\n            '+e+"\n          </div>\n        ")},option:function(e){return(0,f.strToEl)('\n          <option value="'+e.value+'" selected>'+e.label+"</option>\n        ")}},t=this.config.callbackOnCreateTemplates,i={};t&&(0,f.isType)("Function",t)&&(i=t.call(this,f.strToEl)),this.config.templates=(0,f.extend)(e,i)}},{key:"_setLoading",value:function(e){this.store.dispatch((0,h.setIsLoading)(e))}},{key:"_createInput",value:function(){var i=this,e=this.passedElement.getAttribute("dir")||"ltr",t=this._getTemplate("containerOuter",e),n=this._getTemplate("containerInner"),s=this._getTemplate("itemList"),o=this._getTemplate("choiceList"),r=this._getTemplate("input"),a=this._getTemplate("dropdown");this.containerOuter=t,this.containerInner=n,this.input=r,this.choiceList=o,this.itemList=s,this.dropdown=a,this.passedElement.classList.add(this.config.classNames.input,this.config.classNames.hiddenState),this.passedElement.tabIndex="-1";var c,l,e=this.passedElement.getAttribute("style");Boolean(e)&&this.passedElement.setAttribute("data-choice-orig-style",e),this.passedElement.setAttribute("style","display:none;"),this.passedElement.setAttribute("aria-hidden","true"),this.passedElement.setAttribute("data-choice","active"),(0,f.wrap)(this.passedElement,n),(0,f.wrap)(n,t),this.isSelectOneElement?r.placeholder=this.config.searchPlaceholderValue||"":this.placeholder&&(r.placeholder=this.placeholder,r.style.width=(0,f.getWidthOfInput)(r)),this.config.addItems||this.disable(),t.appendChild(n),t.appendChild(a),n.appendChild(s),this.isTextElement||a.appendChild(o),this.isSelectMultipleElement||this.isTextElement?n.appendChild(r):this.canSearch&&a.insertBefore(r,a.firstChild),this.isSelectElement?(r=Array.from(this.passedElement.getElementsByTagName("OPTGROUP")),this.highlightPosition=0,this.isSearching=!1,this._setLoading(!0),r&&r.length?r.forEach(function(e){i._addGroup(e,e.id||null)}):(a=Array.from(this.passedElement.options),r=this.config.sortFilter,c=this.presetChoices,a.forEach(function(e){c.push({value:e.value,label:e.innerHTML,selected:e.selected,disabled:e.disabled||e.parentNode.disabled,placeholder:e.hasAttribute("placeholder")})}),this.config.shouldSort&&c.sort(r),l=c.some(function(e){return e.selected}),c.forEach(function(e,t){i.isSelectOneElement?i._addChoice(e.value,e.label,!(t=l||!l&&0<t)||e.selected,!!t&&e.disabled,void 0,e.customProperties,e.placeholder):i._addChoice(e.value,e.label,e.selected,e.disabled,void 0,e.customProperties,e.placeholder)})),this._setLoading(!1)):this.isTextElement&&this.presetItems.forEach(function(e){var t=(0,f.getType)(e);"Object"===t?e.value&&i._addItem(e.value,e.label,e.id,void 0,e.customProperties,e.placeholder):"String"===t&&i._addItem(e)})}}]),n=l;function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"[data-choice]",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(0,f.isType)("String",e)){var i=document.querySelectorAll(e);if(1<i.length)for(var n=1;n<i.length;n++)new l(i[n],t)}var s={silent:!1,items:[],choices:[],renderChoiceLimit:-1,maxItemCount:-1,addItems:!0,removeItems:!0,removeItemButton:!1,editItems:!1,duplicateItems:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,regexFilter:null,shouldSort:!0,shouldSortItems:!1,sortFilter:f.sortByAlpha,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",addItemText:function(e){return'Press Enter to add <b>"'+(0,f.stripHTML)(e)+'"</b>'},maxItemText:function(e){return"Only "+e+" values can be added."},itemComparer:function(e,t){return e===t},uniqueItemText:"Only unique values can be added.",classNames:{containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",hiddenState:"is-hidden",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"},fuseOptions:{include:"score"},callbackOnInit:null,callbackOnCreateTemplates:null};this.idNames={itemChoice:"item-choice"},this.config=(0,f.extend)(s,t),"auto"!==this.config.renderSelectedChoices&&"always"!==this.config.renderSelectedChoices&&(this.config.silent||console.warn("renderSelectedChoices: Possible values are 'auto' and 'always'. Falling back to 'auto'."),this.config.renderSelectedChoices="auto"),this.store=new a.default(this.render),this.initialised=!1,this.currentState={},this.prevState={},this.currentValue="",this.element=e,this.passedElement=(0,f.isType)("String",e)?document.querySelector(e):e,this.passedElement?(this.isTextElement="text"===this.passedElement.type,this.isSelectOneElement="select-one"===this.passedElement.type,this.isSelectMultipleElement="select-multiple"===this.passedElement.type,this.isSelectElement=this.isSelectOneElement||this.isSelectMultipleElement,this.isValidElementType=this.isTextElement||this.isSelectElement,this.isIe11=!(!navigator.userAgent.match(/Trident/)||!navigator.userAgent.match(/rv[ :]11/)),!(this.isScrollingOnIe=!1)===this.config.shouldSortItems&&this.isSelectOneElement&&(this.config.silent||console.warn("shouldSortElements: Type of passed element is 'select-one', falling back to false.")),this.highlightPosition=0,this.canSearch=this.config.searchEnabled,this.placeholder=!1,this.isSelectOneElement||(this.placeholder=!!this.config.placeholder&&(this.config.placeholderValue||this.passedElement.getAttribute("placeholder"))),this.presetChoices=this.config.choices,this.presetItems=this.config.items,this.passedElement.value&&(this.presetItems=this.presetItems.concat(this.passedElement.value.split(this.config.delimiter))),this.baseId=(0,f.generateId)(this.passedElement,"choices-"),this.render=this.render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this.wasTap=!0,"classList"in document.documentElement||this.config.silent||console.error("Choices: Your browser doesn't support Choices"),(0,f.isElement)(this.passedElement)&&this.isValidElementType?"active"!==this.passedElement.getAttribute("data-choice")&&this.init():this.config.silent||console.error("Incompatible input passed")):this.config.silent||console.error("Passed element not found")}e.exports=n},function(t,e,i){!function(){"use strict";function S(){console.log.apply(console,arguments)}var n={id:null,caseSensitive:!1,include:[],shouldSort:!0,searchFn:i,sortFn:function(e,t){return e.score-t.score},getFn:function e(t,i,n){var s;var o;var r;var a;var c;var l;if(i){if(-1!==(r=i.indexOf("."))?(s=i.slice(0,r),o=i.slice(r+1)):s=i,null!=(a=t[s]))if(o||"string"!=typeof a&&"number"!=typeof a)if(I(a))for(c=0,l=a.length;c<l;c++)e(a[c],o,n);else o&&e(a,o,n);else n.push(a)}else n.push(t);return n},keys:[],verbose:!1,tokenize:!1,matchAllTokens:!1,tokenSeparator:/ +/g,minMatchCharLength:1,findAllMatches:!1};function e(e,t){for(var i in this.list=e,this.options=t=t||{},n)n.hasOwnProperty(i)&&("boolean"==typeof n[i]?this.options[i]=(i in t?t:n)[i]:this.options[i]=t[i]||n[i])}function I(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e,t){this.options=t=t||{},this.options.location=t.location||i.defaultOptions.location,this.options.distance=("distance"in t?t:i.defaultOptions).distance,this.options.threshold=("threshold"in t?t:i.defaultOptions).threshold,this.options.maxPatternLength=t.maxPatternLength||i.defaultOptions.maxPatternLength,this.pattern=t.caseSensitive?e:e.toLowerCase(),this.patternLen=e.length,this.patternLen<=this.options.maxPatternLength&&(this.matchmask=1<<this.patternLen-1,this.patternAlphabet=this._calculatePatternAlphabet())}e.VERSION="2.7.3",e.prototype.set=function(e){return this.list=e},e.prototype.search=function(e){return this.options.verbose&&S("\nSearch term:",e,"\n"),this.pattern=e,this.results=[],this.resultMap={},this._keyMap=null,this._prepareSearchers(),this._startSearch(),this._computeScore(),this._sort(),this._format()},e.prototype._prepareSearchers=function(){var e=this.options,t=this.pattern,i=e.searchFn,n=t.split(e.tokenSeparator),s=0,o=n.length;if(this.options.tokenize)for(this.tokenSearchers=[];s<o;s++)this.tokenSearchers.push(new i(n[s],e));this.fullSeacher=new i(t,e)},e.prototype._startSearch=function(){var e,t,i,n,s,o=this.options.getFn,r=this.list,a=r.length,c=this.options.keys,l=c.length;if("string"==typeof r[0])for(n=0;n<a;n++)this._analyze("",r[n],n,n);else for(this._keyMap={},n=0;n<a;n++)for(i=r[n],s=0;s<l;s++){if("string"!=typeof(e=c[s])){if(t=1-e.weight||1,this._keyMap[e.name]={weight:t},e.weight<=0||1<e.weight)throw new Error("Key weight has to be > 0 and <= 1");e=e.name}else this._keyMap[e]={weight:1};this._analyze(e,o(i,e,[]),i,n)}},e.prototype._analyze=function(e,t,i,n){var s,o,r,a,c,l,h,u,d,p,f,m=this.options,v=!1;if(null!=t){var g=[],y=0;if("string"==typeof t){if(s=t.split(m.tokenSeparator),m.verbose&&S("---------\nKey:",e),this.options.tokenize){for(p=0;p<this.tokenSearchers.length;p++){for(l=this.tokenSearchers[p],m.verbose&&S("Pattern:",l.pattern),u=!(h=[]),f=0;f<s.length;f++){var b,E=s[f],_={};(b=l.search(E)).isMatch?(_[E]=b.score,u=v=!0,g.push(b.score)):(_[E]=1,this.options.matchAllTokens||g.push(1)),h.push(_)}u&&y++,m.verbose&&S("Token scores:",h)}for(o=g[0],a=g.length,p=1;p<a;p++)o+=g[p];o/=a,m.verbose&&S("Token score average:",o)}c=this.fullSeacher.search(t),m.verbose&&S("Full text score:",c.score),r=c.score,void 0!==o&&(r=(r+o)/2),m.verbose&&S("Score average:",r),d=!this.options.tokenize||!this.options.matchAllTokens||y>=this.tokenSearchers.length,m.verbose&&S("Check Matches",d),(v||c.isMatch)&&d&&((d=this.resultMap[n])?d.output.push({key:e,score:r,matchedIndices:c.matchedIndices}):(this.resultMap[n]={item:i,output:[{key:e,score:r,matchedIndices:c.matchedIndices}]},this.results.push(this.resultMap[n])))}else if(I(t))for(p=0;p<t.length;p++)this._analyze(e,t[p],i,n)}},e.prototype._computeScore=function(){var e,t,i,n,s,o,r,a,c=this._keyMap,l=this.results;for(this.options.verbose&&S("\n\nComputing score:\n"),e=0;e<l.length;e++){for(s=(n=l[e].output).length,r=1,t=i=0;t<s;t++)a=n[t].score*(o=c?c[n[t].key].weight:1),1!==o?r=Math.min(r,a):(i+=a,n[t].nScore=a);l[e].score=1===r?i/s:r,this.options.verbose&&S(l[e])}},e.prototype._sort=function(){var e=this.options;e.shouldSort&&(e.verbose&&S("\n\nSorting...."),this.results.sort(e.sortFn))},e.prototype._format=function(){var e,t,i,n,s=this.options,o=s.getFn,r=[],a=this.results,c=s.include;for(s.verbose&&S("\n\nOutput:\n\n",a),i=s.id?function(e){a[e].item=o(a[e].item,s.id,[])[0]}:function(){},n=function(e){var t,i,n,s,o,r=a[e];if(0<c.length){if(t={item:r.item},-1!==c.indexOf("matches"))for(n=r.output,t.matches=[],i=0;i<n.length;i++)o={indices:(s=n[i]).matchedIndices},s.key&&(o.key=s.key),t.matches.push(o);-1!==c.indexOf("score")&&(t.score=a[e].score)}else t=r.item;return t},e=0,t=a.length;e<t;e++)i(e),r.push(n(e));return r},i.defaultOptions={location:0,distance:100,threshold:.6,maxPatternLength:32},i.prototype._calculatePatternAlphabet=function(){for(var e={},t=0,t=0;t<this.patternLen;t++)e[this.pattern.charAt(t)]=0;for(t=0;t<this.patternLen;t++)e[this.pattern.charAt(t)]|=1<<this.pattern.length-t-1;return e},i.prototype._bitapScore=function(e,t){e/=this.patternLen,t=Math.abs(this.options.location-t);return this.options.distance?e+t/this.options.distance:t?1:e},i.prototype.search=function(e){var t,i,n,s,o,r,a,c,l,h,u,d,p,f,m,v,g,y,b,E,_,S,I,w=this.options;if(e=w.caseSensitive?e:e.toLowerCase(),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};if(this.patternLen>w.maxPatternLength){if(b=!!(y=e.match(new RegExp(this.pattern.replace(w.tokenSeparator,"|")))))for(_=[],t=0,S=y.length;t<S;t++)I=y[t],_.push([e.indexOf(I),I.length-1]);return{isMatch:b,score:b?.5:1,matchedIndices:_}}for(s=w.findAllMatches,o=w.location,n=e.length,r=w.threshold,a=e.indexOf(this.pattern,o),E=[],t=0;t<n;t++)E[t]=0;for(-1!=a&&(r=Math.min(this._bitapScore(0,a),r),-1!=(a=e.lastIndexOf(this.pattern,o+this.patternLen))&&(r=Math.min(this._bitapScore(0,a),r))),a=-1,v=1,g=[],h=this.patternLen+n,t=0;t<this.patternLen;t++){for(c=0,l=h;c<l;)this._bitapScore(t,o+l)<=r?c=l:h=l,l=Math.floor((h-c)/2+c);for(h=l,u=Math.max(1,o-l+1),d=s?n:Math.min(o+l,n)+this.patternLen,(p=Array(d+2))[d+1]=(1<<t)-1,i=d;u<=i;i--)if((m=this.patternAlphabet[e.charAt(i-1)])&&(E[i-1]=1),p[i]=(p[i+1]<<1|1)&m,0!==t&&(p[i]|=(f[i+1]|f[i])<<1|1|f[i+1]),p[i]&this.matchmask&&(v=this._bitapScore(t,i-1))<=r){if(r=v,g.push(a=i-1),a<=o)break;u=Math.max(1,2*o-a)}if(this._bitapScore(t+1,o)>r)break;f=p}return{isMatch:0<=a,score:0===v?.001:v,matchedIndices:_=this._getMatchedIndices(E)}},i.prototype._getMatchedIndices=function(e){for(var t,i,n=[],s=-1,o=0,r=e.length;o<r;o++)(i=e[o])&&-1===s?s=o:i||-1===s||((t=o-1)-s+1>=this.options.minMatchCharLength&&n.push([s,t]),s=-1);return e[o-1]&&o-1-s+1>=this.options.minMatchCharLength&&n.push([s,o-1]),n},t.exports=e}()},function(e,t,i){var n;!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var n=typeof i;if("string"==n||"number"==n)e.push(i);else if(Array.isArray(i))e.push(r.apply(null,i));else if("object"==n)for(var s in i)o.call(i,s)&&i[s]&&e.push(s)}}return e.join(" ")}void 0!==e&&e.exports?e.exports=r:void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),e};function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o,r=i(5),a=i(26),c=(o=a)&&o.__esModule?o:{default:o};n(l,[{key:"getState",value:function(){return this.store.getState()}},{key:"dispatch",value:function(e){this.store.dispatch(e)}},{key:"subscribe",value:function(e){this.store.subscribe(e)}},{key:"isLoading",value:function(){return this.store.getState().general.loading}},{key:"getItems",value:function(){return this.store.getState().items}},{key:"getItemsFilteredByActive",value:function(){return this.getItems().filter(function(e){return!0===e.active},[])}},{key:"getItemsReducedToValues",value:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.getItems()).reduce(function(e,t){return e.push(t.value),e},[])}},{key:"getChoices",value:function(){return this.store.getState().choices}},{key:"getChoicesFilteredByActive",value:function(){return this.getChoices().filter(function(e){return!0===e.active})}},{key:"getChoicesFilteredBySelectable",value:function(){return this.getChoices().filter(function(e){return!0!==e.disabled})}},{key:"getSearchableChoices",value:function(){return this.getChoicesFilteredBySelectable().filter(function(e){return!0!==e.placeholder})}},{key:"getChoiceById",value:function(t){return!!t&&this.getChoicesFilteredByActive().find(function(e){return e.id===parseInt(t,10)})}},{key:"getGroups",value:function(){return this.store.getState().groups}},{key:"getGroupsFilteredByActive",value:function(){var e=this.getGroups(),i=this.getChoices();return e.filter(function(e){var t=!0===e.active&&!1===e.disabled,e=i.some(function(e){return!0===e.active&&!1===e.disabled});return t&&e},[])}},{key:"getGroupById",value:function(t){return this.getGroups().find(function(e){return e.id===t})}},{key:"getPlaceholderChoice",value:function(){var e=this.getChoices();return[].concat(function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(e)).reverse().find(function(e){return!0===e.placeholder})}}]),n=l;function l(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),this.store=(0,r.createStore)(c.default,window.devToolsExtension?window.devToolsExtension():void 0)}t.default=n,e.exports=n},function(e,t,i){"use strict";t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var n=c(i(6)),s=c(i(21)),o=c(i(23)),r=c(i(24)),a=c(i(25));c(i(22));function c(e){return e&&e.__esModule?e:{default:e}}t.createStore=n.default,t.combineReducers=s.default,t.bindActionCreators=o.default,t.applyMiddleware=r.default,t.compose=a.default},function(e,t,i){"use strict";t.__esModule=!0,t.ActionTypes=void 0,t.default=function e(t,i,n){"function"==typeof i&&void 0===n&&(n=i,i=void 0);if(void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(e)(t,i)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var s=t;var o=i;var r=[];var a=r;var c=!1;function l(){a===r&&(a=r.slice())}function h(){return o}function u(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var i=!0;return l(),a.push(t),function(){var e;i&&(i=!1,l(),e=a.indexOf(t),a.splice(e,1))}}function d(e){if(!(0,m.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,o=s(o,e)}finally{c=!1}for(var t=r=a,i=0;i<t.length;i++)(0,t[i])();return e}function p(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");s=e,d({type:g.INIT})}function f(){var e,n=u;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function t(){e.next&&e.next(o)}t();var i=n(t);return{unsubscribe:i}}})[v.default]=function(){return this},e}d({type:g.INIT});return i={dispatch:d,subscribe:u,getState:h,replaceReducer:p},i[v.default]=f,i};var m=n(i(7)),v=n(i(17));function n(e){return e&&e.__esModule?e:{default:e}}var g=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t,i){var n=i(8),s=i(14),o=i(16),r=Function.prototype,i=Object.prototype,a=r.toString,c=i.hasOwnProperty,l=a.call(Object);e.exports=function(e){return!(!o(e)||"[object Object]"!=n(e))&&(null===(e=s(e))||"function"==typeof(e=c.call(e,"constructor")&&e.constructor)&&e instanceof e&&a.call(e)==l)}},function(e,t,i){var n=i(9),s=i(12),o=i(13),r=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":(r&&r in Object(e)?s:o)(e)}},function(e,t,i){i=i(10).Symbol;e.exports=i},function(e,t,i){var n=i(11),i="object"==typeof self&&self&&self.Object===Object&&self,i=n||i||Function("return this")();e.exports=i},function(t,e){!function(e){e="object"==typeof e&&e&&e.Object===Object&&e;t.exports=e}.call(e,function(){return this}())},function(e,t,i){var n=i(9),i=Object.prototype,o=i.hasOwnProperty,r=i.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),i=e[a];try{var n=!(e[a]=void 0)}catch(e){}var s=r.call(e);return n&&(t?e[a]=i:delete e[a]),s}},function(e,t){var i=Object.prototype.toString;e.exports=function(e){return i.call(e)}},function(e,t,i){i=i(15)(Object.getPrototypeOf,Object);e.exports=i},function(e,t){e.exports=function(t,i){return function(e){return t(i(e))}}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,i){e.exports=i(18)},function(e,o,r){!function(e,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i,n=r(20),s=(i=n)&&i.__esModule?i:{default:i};t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:t,t=(0,s.default)(t);o.default=t}.call(o,function(){return this}(),r(19)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,e=e.Symbol;"function"==typeof e?e.observable?t=e.observable:(t=e("observable"),e.observable=t):t="@@observable";return t}},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e){for(var t=Object.keys(e),l={},i=0;i<t.length;i++){var n=t[i];0,"function"==typeof e[n]&&(l[n]=e[n])}var h=Object.keys(l);0;var u=void 0;try{!function(i){Object.keys(i).forEach(function(e){var t=i[e];if(void 0===t(void 0,{type:s.ActionTypes.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===t(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+s.ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(l)}catch(e){u=e}return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(u)throw u;for(var i=!1,n={},s=0;s<h.length;s++){var o=h[s],r=l[o],a=e[o],c=r(a,t);if(void 0===c){r=function(e,t){t=t&&t.type;return"Given action "+(t&&'"'+t.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}(o,t);throw new Error(r)}n[o]=c,i=i||c!==a}return i?n:e}};var s=i(6);n(i(7)),n(i(22));function n(e){return e&&e.__esModule?e:{default:e}}},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}},function(e,t){"use strict";function a(e,t){return function(){return t(e.apply(void 0,arguments))}}t.__esModule=!0,t.default=function(e,t){if("function"==typeof e)return a(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var i=Object.keys(e),n={},s=0;s<i.length;s++){var o=i[s],r=e[o];"function"==typeof r&&(n[o]=a(r,t))}return n}},function(e,t,i){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,n=arguments[t];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(o){return function(e,t,i){var t=o(e,t,i),n=t.dispatch,i=[],s={getState:t.getState,dispatch:function(e){return n(e)}},i=r.map(function(e){return e(s)}),n=c.default.apply(void 0,i)(t.dispatch);return a({},t,{dispatch:n})}}};var n,s=i(25),c=(n=s)&&n.__esModule?n:{default:n}},function(e,t){"use strict";t.__esModule=!0,t.default=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return 0!==t.length?1!==t.length?t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}}):t[0]:function(e){return e}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(5),s=a(i(27)),o=a(i(28)),r=a(i(29)),i=a(i(30));function a(e){return e&&e.__esModule?e:{default:e}}var c=(0,n.combineReducers)({items:s.default,groups:o.default,choices:r.default,general:i.default});t.default=function(e,t){return"CLEAR_ALL"===t.type&&(e=void 0),c(e,t)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"ADD_ITEM":return[].concat(function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(e),[{id:t.id,choiceId:t.choiceId,groupId:t.groupId,value:t.value,label:t.label,active:!0,highlighted:!1,customProperties:t.customProperties,placeholder:t.placeholder||!1,keyCode:null}]).map(function(e){return e.highlighted&&(e.highlighted=!1),e});case"REMOVE_ITEM":return e.map(function(e){return e.id===t.id&&(e.active=!1),e});case"HIGHLIGHT_ITEM":return e.map(function(e){return e.id===t.id&&(e.highlighted=t.highlighted),e});default:return e}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"ADD_GROUP":return[].concat(function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(e),[{id:t.id,value:t.value,active:t.active,disabled:t.disabled}]);case"CLEAR_CHOICES":return e.groups=[];default:return e}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"ADD_CHOICE":return[].concat(function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(e),[{id:t.id,elementId:t.elementId,groupId:t.groupId,value:t.value,label:t.label||t.value,disabled:t.disabled||!1,selected:!1,active:!0,score:9999,customProperties:t.customProperties,placeholder:t.placeholder||!1,keyCode:null}]);case"ADD_ITEM":var i=e;return t.activateOptions&&(i=e.map(function(e){return e.active=t.active,e})),i=-1<t.choiceId?e.map(function(e){return e.id===parseInt(t.choiceId,10)&&(e.selected=!0),e}):i;case"REMOVE_ITEM":return-1<t.choiceId?e.map(function(e){return e.id===parseInt(t.choiceId,10)&&(e.selected=!1),e}):e;case"FILTER_CHOICES":var n=t.results;return e.map(function(t){return t.active=n.some(function(e){return e.item.id===t.id&&(t.score=e.score,!0)}),t});case"ACTIVATE_CHOICES":return e.map(function(e){return e.active=t.active,e});case"CLEAR_CHOICES":return e.choices=[];default:return e}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{loading:!1},t=arguments[1];return"LOADING"!==t.type?e:{loading:t.isLoading}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.addItem=function(e,t,i,n,s,o,r,a){return{type:"ADD_ITEM",value:e,label:t,id:i,choiceId:n,groupId:s,customProperties:o,placeholder:r,keyCode:a}},t.removeItem=function(e,t){return{type:"REMOVE_ITEM",id:e,choiceId:t}},t.highlightItem=function(e,t){return{type:"HIGHLIGHT_ITEM",id:e,highlighted:t}},t.addChoice=function(e,t,i,n,s,o,r,a,c){return{type:"ADD_CHOICE",value:e,label:t,id:i,groupId:n,disabled:s,elementId:o,customProperties:r,placeholder:a,keyCode:c}},t.filterChoices=function(e){return{type:"FILTER_CHOICES",results:e}},t.activateChoices=function(){return{type:"ACTIVATE_CHOICES",active:!(0<arguments.length&&void 0!==arguments[0])||arguments[0]}},t.clearChoices=function(){return{type:"CLEAR_CHOICES"}},t.addGroup=function(e,t,i,n){return{type:"ADD_GROUP",value:e,id:t,active:i,disabled:n}},t.clearAll=function(){return{type:"CLEAR_ALL"}},t.setIsLoading=function(e){return{type:"LOADING",isLoading:e}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=(t.capitalise=function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},t.generateChars=function(e){for(var t="",i=0;i<e;i++)t+=l(0,36).toString(36);return t}),o=(t.generateId=function(e,t){e=e.id||e.name&&e.name+"-"+s(2)||s(4);return e=t+(e=e.replace(/(:|\.|\[|\]|,)/g,""))},t.getType=function(e){return Object.prototype.toString.call(e).slice(8,-1)}),r=t.isType=function(e,t){var i=o(t);return null!=t&&i===e},a=(t.isNode=function(e){return"object"===("undefined"==typeof Node?"undefined":n(Node))?e instanceof Node:e&&"object"===(void 0===e?"undefined":n(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},t.isElement=function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":n(HTMLElement))?e instanceof HTMLElement:e&&"object"===(void 0===e?"undefined":n(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},t.extend=function i(){for(var n={},e=arguments.length,t=0;t<e;t++){var s=arguments[t];r("Object",s)&&function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r("Object",e[t])?n[t]=i(!0,n[t],e[t]):n[t]=e[t])}(s)}return n},t.whichTransitionEvent=function(){var e,t=document.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(void 0!==t.style[e])return i[e]},t.whichAnimationEvent=function(){var e,t=document.createElement("fakeelement"),i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in i)if(void 0!==t.style[e])return i[e]}),c=(t.getParentsUntil=function(e,t,i){for(var n=[];e&&e!==document;e=e.parentNode){if(t){var s=t.charAt(0);if("."===s&&e.classList.contains(t.substr(1)))break;if("#"===s&&e.id===t.substr(1))break;if("["===s&&e.hasAttribute(t.substr(1,t.length-1)))break;if(e.tagName.toLowerCase()===t)break}i?("."===(s=i.charAt(0))&&e.classList.contains(i.substr(1))&&n.push(e),"#"===s&&e.id===i.substr(1)&&n.push(e),"["===s&&e.hasAttribute(i.substr(1,i.length-1))&&n.push(e),e.tagName.toLowerCase()===i&&n.push(e)):n.push(e)}return 0===n.length?null:n},t.wrap=function(e,t){return t=t||document.createElement("div"),e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t.appendChild(e)},t.getSiblings=function(e){for(var t=[],i=e.parentNode.firstChild;i;i=i.nextSibling)1===i.nodeType&&i!==e&&t.push(i);return t},t.findAncestor=function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e},t.findAncestorByAttrName=function(e,t){for(var i=e;i;){if(i.hasAttribute(t))return i;i=i.parentElement}return null},t.debounce=function(n,s,o){var r;return function(){var e=this,t=arguments,i=o&&!r;clearTimeout(r),r=setTimeout(function(){r=null,o||n.apply(e,t)},s),i&&n.apply(e,t)}},t.getElemDistance=function(e){var t=0;if(e.offsetParent)for(;t+=e.offsetTop,e=e.offsetParent;);return 0<=t?t:0},t.getElementOffset=function(e,t){var i=t;return 0<(i=1<t?1:t)&&(i=0),Math.max(e.offsetHeight*i)},t.getAdjacentEl=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;if(e&&t){var n=e.parentNode.parentNode,t=Array.from(n.querySelectorAll(t)),e=t.indexOf(e);return t[e+(0<i?1:-1)]}},t.getScrollPosition=function(e){return"bottom"===e?Math.max((window.scrollY||window.pageYOffset)+(window.innerHeight||document.documentElement.clientHeight)):window.scrollY||window.pageYOffset},t.isInView=function(e,t,i){return this.getScrollPosition(t)>this.getElemDistance(e)+this.getElementOffset(e,i)},t.isScrolledIntoView=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;if(e)return 0<i?t.scrollTop+t.offsetHeight>=e.offsetTop+e.offsetHeight:e.offsetTop>=t.scrollTop},t.stripHTML=function(e){return e.replace(/&/g,"&amp;").replace(/>/g,"&rt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}),l=(t.addAnimation=function(e,t){function i(){e.classList.remove(t),e.removeEventListener(n,i,!1)}var n=a();e.classList.add(t),e.addEventListener(n,i,!1)},t.getRandomNumber=function(e,t){return Math.floor(Math.random()*(t-e)+e)}),h=t.strToEl=(i=document.createElement("div"),function(e){var t=e.trim(),e=void 0;for(i.innerHTML=t,e=i.children[0];i.firstChild;)i.removeChild(i.firstChild);return e});t.getWidthOfInput=function(e){var t,i,n=e.value||e.placeholder,s=e.offsetWidth;return n&&((t=h("<span>"+c(n)+"</span>")).style.position="absolute",t.style.padding="0",t.style.top="-9999px",t.style.left="-9999px",t.style.width="auto",t.style.whiteSpace="pre",document.body.contains(e)&&window.getComputedStyle&&((i=window.getComputedStyle(e))&&(t.style.fontSize=i.fontSize,t.style.fontFamily=i.fontFamily,t.style.fontWeight=i.fontWeight,t.style.fontStyle=i.fontStyle,t.style.letterSpacing=i.letterSpacing,t.style.textTransform=i.textTransform,t.style.padding=i.padding)),document.body.appendChild(t),n&&t.offsetWidth!==e.offsetWidth&&(s=t.offsetWidth+4),document.body.removeChild(t)),s+"px"},t.sortByAlpha=function(e,t){e=(e.label||e.value).toLowerCase(),t=(t.label||t.value).toLowerCase();return e<t?-1:t<e?1:0},t.sortByScore=function(e,t){return e.score-t.score},t.triggerEvent=function(e,t){t=new CustomEvent(t,{detail:2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,bubbles:!0,cancelable:!0});return e.dispatchEvent(t)}},function(e,t){"use strict";function c(e){return"function"==typeof e||"[object Function]"===n.call(e)}function l(e){return e=function(e){e=Number(e);return isNaN(e)?0:0!==e&&isFinite(e)?(0<e?1:-1)*Math.floor(Math.abs(e)):e}(e),Math.min(Math.max(e,0),s)}function i(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}var n,s;Array.from||(Array.from=(n=Object.prototype.toString,s=Math.pow(2,53)-1,function(e){var t=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i,n=1<arguments.length?arguments[1]:void 0;if(void 0!==n){if(!c(n))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(i=arguments[2])}for(var s,o=l(t.length),r=c(this)?Object(new this(o)):new Array(o),a=0;a<o;)s=t[a],r[a]=n?void 0===i?n(s,a):n.call(i,s,a):s,a+=1;return r.length=o,r})),Array.prototype.find||(Array.prototype.find=function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),n=i.length>>>0,s=arguments[1],o=0;o<n;o++)if(t=i[o],e.call(s,t,o,i))return t}),i.prototype=window.Event.prototype,window.CustomEvent=i}],i.c=s,i.p="/assets/scripts/dist/",i(0);function i(e){if(s[e])return s[e].exports;var t=s[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,i),t.loaded=!0,t.exports}var n,s});